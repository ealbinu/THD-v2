gdjs.TextRuntimeObjectPixiRenderer=function(t,e){this._object=t,this._fontManager=e.getGame().getFontManager(),void 0===this._text&&(this._text=new PIXI.Text(" ",{align:"left"})),this._text.anchor.x=.5,this._text.anchor.y=.5,e.getLayer("").getRenderer().addRendererObject(this._text,t.getZOrder()),this._text.text=0===t._str.length?" ":t._str,this._justCreated=!0,this.updateStyle(),this.updatePosition()},gdjs.TextRuntimeObjectRenderer=gdjs.TextRuntimeObjectPixiRenderer,gdjs.TextRuntimeObjectPixiRenderer.prototype.getRendererObject=function(){return this._text},gdjs.TextRuntimeObjectPixiRenderer.prototype.ensureUpToDate=function(){this._justCreated&&(this._text.updateText(),this.updatePosition(),this._justCreated=!1)},gdjs.TextRuntimeObjectPixiRenderer.prototype.updateStyle=function(){var t='"'+this._fontManager.getFontFamily(this._object._fontName)+'"',e=this._text.style;e.fontStyle=this._object._italic?"italic":"normal",e.fontWeight=this._object._bold?"bold":"normal",e.fontSize=this._object._characterSize,e.fontFamily=t,this._object._useGradient?e.fill=this._getGradientHex():e.fill=this._getColorHex(),"LINEAR_VERTICAL"===this._object._gradientType?e.fillGradientType=PIXI.TEXT_GRADIENT.LINEAR_VERTICAL:e.fillGradientType=PIXI.TEXT_GRADIENT.LINEAR_HORIZONTAL,e.align=this._object._textAlign,e.wordWrap=this._object._wrapping,e.wordWrapWidth=this._object._wrappingWidth,e.breakWords=!0,e.stroke=gdjs.rgbToHexNumber(this._object._outlineColor[0],this._object._outlineColor[1],this._object._outlineColor[2]),e.strokeThickness=this._object._outlineThickness,e.dropShadow=this._object._shadow,e.dropShadowColor=gdjs.rgbToHexNumber(this._object._shadowColor[0],this._object._shadowColor[1],this._object._shadowColor[2]),e.dropShadowBlur=this._object._shadowBlur,e.dropShadowAngle=this._object._shadowAngle,e.dropShadowDistance=this._object._shadowDistance,e.padding=this._object._padding,e.miterLimit=3,this.updatePosition(),this._text.dirty=!0},gdjs.TextRuntimeObjectPixiRenderer.prototype.updatePosition=function(){this._text.position.x=this._object.x+this._text.width/2,this._text.position.y=this._object.y+this._text.height/2},gdjs.TextRuntimeObjectPixiRenderer.prototype.updateAngle=function(){this._text.rotation=gdjs.toRad(this._object.angle)},gdjs.TextRuntimeObjectPixiRenderer.prototype.updateOpacity=function(){this._text.alpha=this._object.opacity/255},gdjs.TextRuntimeObjectPixiRenderer.prototype.updateString=function(){this._text.text=0===this._object._str.length?" ":this._object._str,this._text.updateText()},gdjs.TextRuntimeObjectPixiRenderer.prototype.getWidth=function(){return this._text.width},gdjs.TextRuntimeObjectPixiRenderer.prototype.getHeight=function(){return this._text.height},gdjs.TextRuntimeObjectPixiRenderer.prototype._getColorHex=function(){return gdjs.rgbToHexNumber(this._object._color[0],this._object._color[1],this._object._color[2])},gdjs.TextRuntimeObjectPixiRenderer.prototype._getGradientHex=function(){for(var t=[],e=0;e<this._object._gradient.length;e++)t.push("#"+gdjs.rgbToHex(this._object._gradient[e][0],this._object._gradient[e][1],this._object._gradient[e][2]));return t},gdjs.TextRuntimeObjectPixiRenderer.prototype.getScaleX=function(){return this._text.scale.x},gdjs.TextRuntimeObjectPixiRenderer.prototype.getScaleY=function(){return this._text.scale.y},gdjs.TextRuntimeObjectPixiRenderer.prototype.setScale=function(t){this._text.scale.x=t,this._text.scale.y=t},gdjs.TextRuntimeObjectPixiRenderer.prototype.setScaleX=function(t){this._text.scale.x=t},gdjs.TextRuntimeObjectPixiRenderer.prototype.setScaleY=function(t){this._text.scale.y=t};