gdjs.RuntimeScenePixiRenderer=function(e,i){this._pixiRenderer=i?i.getPIXIRenderer():null,this._runtimeScene=e,this._pixiContainer=new PIXI.Container,this._pixiContainer.sortableChildren=!0,this._debugDraw=null,this._profilerText=null},gdjs.RuntimeSceneRenderer=gdjs.RuntimeScenePixiRenderer,gdjs.RuntimeScenePixiRenderer.prototype.onGameResolutionResized=function(){if(this._pixiRenderer){var e=this._runtimeScene.getGame();this._pixiContainer.scale.x=this._pixiRenderer.width/e.getGameResolutionWidth(),this._pixiContainer.scale.y=this._pixiRenderer.height/e.getGameResolutionHeight()}},gdjs.RuntimeScenePixiRenderer.prototype.onSceneUnloaded=function(){},gdjs.RuntimeScenePixiRenderer.prototype.render=function(){this._pixiRenderer&&(this._pixiRenderer.backgroundColor=this._runtimeScene.getBackgroundColor(),this._pixiRenderer.render(this._pixiContainer))},gdjs.RuntimeScenePixiRenderer.prototype._renderProfileText=function(){var e=this._runtimeScene.getProfiler();if(e){this._profilerText||(this._profilerText=new PIXI.Text(" ",{align:"left",stroke:"#FFF",strokeThickness:1}),this._pixiContainer.addChild(this._profilerText));var i=e.getFramesAverageMeasures(),r=[];gdjs.Profiler.getProfilerSectionTexts("All",i,r),this._profilerText.text=r.join("\n")}},gdjs.RuntimeScenePixiRenderer.prototype.renderDebugDraw=function(e,i){this._debugDraw||(this._debugDraw=new PIXI.Graphics,this._pixiContainer.addChild(this._debugDraw));var r=this._debugDraw;r.clear(),r.beginFill(6842600),r.lineStyle(1,6842600,1),r.fill.alpha=.1,r.alpha=.8;for(var n=0;n<e.length;n++){var t=e[n],o=i[t.getLayer()],d=t.getRendererObject();if(o&&d){var s=t.getAABB();r.drawRect(s.min[0],s.min[1],s.max[0]-s.min[0],s.max[1]-s.min[1])}}r.endFill()},gdjs.RuntimeScenePixiRenderer.prototype.hideCursor=function(){this._pixiRenderer&&(this._pixiRenderer.view.style.cursor="none")},gdjs.RuntimeScenePixiRenderer.prototype.showCursor=function(){this._pixiRenderer&&(this._pixiRenderer.view.style.cursor="")},gdjs.RuntimeScenePixiRenderer.prototype.getPIXIContainer=function(){return this._pixiContainer},gdjs.RuntimeScenePixiRenderer.prototype.getPIXIRenderer=function(){return this._pixiRenderer},gdjs.RuntimeScenePixiRenderer.prototype.setLayerIndex=function(e,i){var r=e.getRenderer(),n=r.getRendererObject();e.isLightingLayer()&&(n=r.getLightingSprite()),n&&this._pixiContainer.children.indexOf(n)!==i&&(this._pixiContainer.removeChild(n),this._pixiContainer.addChildAt(n,i))};